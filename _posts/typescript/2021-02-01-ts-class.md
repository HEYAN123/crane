---
layout: post
title:  typescriptè¦ç‚¹è®°å½•
date:   2021-02-01
categories: notes
tags: typescript
---

* content
{:toc}

> å‚è€ƒèµ„æ–™ï¼š
> <https://www.tslang.cn/docs/handbook/>
> <https://www.typescriptlang.org/docs/handbook/>

## ğŸ‘€ åŸºç¡€ç±»å‹

### tsä¸­æ”¯æŒçš„åŸºç¡€æ•°æ®ç±»å‹

* booleanï¼šå¸ƒå°”å€¼
* numberï¼šæ•°å­—
* stringï¼šå­—ç¬¦ä¸²
* [] / number[] / Array\<number>ï¼šæ•°ç»„
* [string, number]ï¼šå…ƒç»„ï¼ˆè¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ ç±»å‹ä¸å¿…ç›¸åŒï¼‰
* enumï¼šæšä¸¾ï¼ˆä¸ºä¸€ç»„æ•°å€¼èµ‹äºˆå‹å¥½çš„åå­—ï¼‰
* anyï¼šä¸è¿›è¡Œç±»å‹æ£€æŸ¥çš„ä»»æ„ç±»å‹
* voidï¼šæ²¡æœ‰ä»»ä½•ç±»å‹ï¼ˆé€šå¸¸è¡¨ç¤ºæ— è¿”å›å€¼ï¼‰
* null
* undefined
* neverï¼šæ°¸è¿œä¸å­˜åœ¨å€¼çš„ç±»å‹ï¼ˆæ€»ä¼šæŠ›å‡ºå¼‚å¸¸/æ— è¿”å›å€¼çš„å‡½æ•°/ç®­å¤´å‡½æ•°è¿”å›å€¼/å‡½æ•°å­˜åœ¨æ— æ³•åˆ°è¾¾çš„ç»ˆç‚¹ï¼‰
* object

### ç±»å‹æ–­è¨€

* è¡¨ç¤ºäººä¸ºç¡®å®šæŸå€¼åº”è¯¥å½“ä½œä»€ä¹ˆç±»å‹å»å¤„ç†
* æœ‰ä¸¤ç§å†™æ³•ï¼š

  ```ts
  let val = "a string";
  // å°–æ‹¬å·è¯­æ³•
  let valLen1: number = (<string>val).length;
  // as è¯­æ³•
  let valLen2: number = (val as string).length;
  ```

## æ¥å£

* æ¥å£ä½œç”¨ï¼š
  1. ä¸ºç±»å‹å‘½å
  2. ä¸ºä»£ç å®šä¹‰å¥‘çº¦

```ts
interface LabelledValue {
  label: string;
}

function printLabel(labelObj: LabelledValue) {
  console.log(labelObj.label);
}

// itâ€˜s ok
printLabel({
  label: "hello",
});

// error TS2345ï¼ˆå¯¹è±¡å­—é¢é‡ä¼šç»è¿‡é¢å¤–å±æ€§æ£€æŸ¥ï¼Œè‹¥å­˜åœ¨ç›®æ ‡ç±»å‹ä¸åŒ…å«çš„å±æ€§æ—¶å°±ä¼šæŠ¥é”™ï¼‰
printLabel({
  label: "hello",
  name: "world"
});

let obj = {
  label: "hello",
  name: "world"
}
// å˜é‡å¼•ç”¨å¯ç»•è¿‡é¢å¤–å±æ€§æ£€æŸ¥
printLabel(obj);

// ä½¿ç”¨ç±»å‹æ–­è¨€å¯ä»¥ç»•è¿‡é¢å¤–å±æ€§æ£€æŸ¥
printLabel({ label: "hello", name: "world" } as LabelledValue);


// ä½¿ç”¨å­—ç¬¦ä¸²ç´¢å¼•ç­¾ååœ¨æ¥å£ä¸­å®šä¹‰ä¸€ä¸ªå±æ€§ï¼Œè¡¨ç¤ºè¯¥ç±»å‹å¯¹è±¡ä¼šå¸¦æœ‰ä»»æ„æ•°é‡çš„å…¶ä»–å±æ€§
interface Student {
  name: string;
  [propName: string]: any;
}
```

### å¯¹è±¡ç±»å‹

* å¯é€‰å±æ€§ï¼šæ¥å£ä¸­å®šä¹‰å¯é€‰çš„å±æ€§å­—æ®µï¼ˆå¯¹å¯èƒ½å­˜åœ¨å¯¹å±æ€§è¿›è¡Œé¢„å®šä¹‰ï¼Œå¼•ç”¨ä¸å­˜åœ¨å±æ€§æ—¶å°†æŠ›å‡ºé”™è¯¯ï¼‰
  
  ```ts
  interface Person {
    name: string;
    age?: number;
  }
  ```

* åªè¯»å±æ€§ï¼šæ¥å£ä¸­å®šä¹‰åªèƒ½åœ¨å¯¹è±¡åˆšåˆšåˆ›å»ºæ—¶ä¿®æ”¹å…¶å€¼çš„å±æ€§

  ```ts
  interface Person {
    readonly name: string;
  }
  ```

### å‡½æ•°ç±»å‹

* æ¥å£ä¹Ÿå¯æè¿°å‡½æ•°ç±»å‹ï¼ˆåŒ…æ‹¬å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ï¼‰

```ts
interface QueryPerson {
  (name: string, age: number): boolean;
}
let ifPersonExist: QueryPerson;
// å‚æ•°åå¯ä»¥ä¸ä¸€æ ·ï¼Œå‚æ•°å’Œè¿”å›å€¼ç±»å‹å¯ä»¥ä¸å†™ tsä¼šä¾æ®æ¥å£è¿›è¡Œç±»å‹æ¨æ–­
ifPersonExist = function(name: string, age: number): boolean {
  return true;
}
```

### å¯ç´¢å¼•ç±»å‹

* å¯ç´¢å¼•ç±»å‹å…·æœ‰ä¸€ä¸ªç´¢å¼•ç­¾åï¼Œå®ƒæè¿°å¯¹è±¡ç´¢å¼•(key)çš„ç±»å‹ï¼Œè¿˜æœ‰ç›¸åº”çš„ç´¢å¼•è¿”å›å€¼(value)çš„ç±»å‹
* tsæ”¯æŒä¸¤ç§ç´¢å¼•ç±»å‹ï¼šnumberï¼Œstring
* åŒæ—¶ä½¿ç”¨ä¸¤ç§ç´¢å¼•ç±»å‹æ—¶ï¼ŒäºŒè€…çš„valueç±»å‹éœ€ä¿æŒç›¸åŒï¼ˆå› ä¸ºéƒ½æ˜¯è½¬ä¸ºstringç±»å‹ç´¢å¼•çš„ï¼‰
* å¯ä»¥åœ¨æ¥å£ä¸­è®¾ç½®readonlyï¼Œé˜²æ­¢ç»™ç´¢å¼•èµ‹å€¼

```ts
interface StringArr {
  // è¡¨ç¤ºkeyä¸ºnumberç±»å‹ï¼Œvalueä¸ºstringç±»å‹ï¼Œå¹¶ä¸”ä¸å¯ä¿®æ”¹
  readonly [index: number]: string;
}

let myArr: StringArr;
myArr = ["bob", "fred"];

let firstStr: string = myArr[0];
```

### ç±»ç±»å‹

* æ˜ç¡®çš„å¼ºåˆ¶ä¸€ä¸ªç±»å»ç¬¦åˆæŸç§å¥‘çº¦
* æ¥å£æè¿°äº†ç±»çš„å…¬å…±éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å…¬å…±å’Œç§æœ‰ä¸¤éƒ¨åˆ†ã€‚å®ƒä¸ä¼šå¸®ä½ æ£€æŸ¥ç±»æ˜¯å¦å…·æœ‰æŸäº›ç§æœ‰æˆå‘˜ã€‚

```ts
interface Person {
  name: string;
  sayHi(name: string);
}
class Student implements Person {
  name: string;
  sayHi(name: string) {
    console.log('hello', name);
  }
  constructor(name: string) { }
}
```

### æ··åˆç±»å‹

* ä¸€ä¸ªå¯¹è±¡åŒæ—¶å…·å¤‡å¤šç§ç±»å‹æ—¶éœ€è¦çš„å¥‘çº¦
* åœºæ™¯ï¼šæ¥å…¥jsç¬¬ä¸‰æ–¹åº“

```ts
// å‡è®¾ä¸€ä¸ªå¯¹è±¡åŒæ—¶å¯ä½œä¸ºå‡½æ•°å’Œå¯¹è±¡ä½¿ç”¨ï¼Œå¹¶å¸¦æœ‰é¢å¤–çš„å±æ€§
interface Person {
  // æœ¬èº«å¯å½“ä½œå‡½æ•°æ‰§è¡Œ
  (play: string): void;
  // å¯è·å–çš„é¢å¤–å±æ€§
  name: string;
  // å¯è·å–çš„é¢å¤–æ–¹æ³•å±æ€§
  sleep(time: number);
}

function child(): Person {
  let person = <Person>function (play: string) {
    console.log("play", play);
  }
  person.name = "Jim";
  person.sleep = (time: number) {
    console.log("sleep", time);
  }
  return person;
}

let xiaoMin = child();

xiaoMing("foot ball");
xiaoMing.name = "xiaoMing";
xiaoming.sleep(20);

```

### æ¥å£ç»§æ‰¿æ¥å£

* æ¥å£ç»§æ‰¿è®©æˆ‘ä»¬å¯ä»¥çµæ´»çš„åˆ†å‰²æ¥å£ï¼Œè¾¾åˆ°ä»£ç å¤ç”¨çš„ç›®çš„ã€‚

```ts
interface Person {
  name: string;
}

interface Action {
  walk: boolean;
}

interface Student extends Person, Action {
  number: string;
}

let xiaoMing = <Student>{};
xiaoMing.name = "xiaoMing";
xiaoMing.number = "2016222";
xiaoMing.walk = true;
```

### æ¥å£ç»§æ‰¿ç±»

* ç»§æ‰¿ç±»çš„æˆå‘˜ä½†ä¸åŒ…æ‹¬å…¶å®ç°ï¼ˆåªå£°æ˜ï¼Œä¸æä¾›å…·ä½“å®ç°ï¼‰
* è¯¥æ¥å£ç±»å‹åªèƒ½è¢«è¿™ä¸ªç±»æˆ–å…¶å­ç±»æ‰€å®ç°ï¼ˆimplements)

```ts
class Control {
  private state: any;
}

// æ¥å£ç»§æ‰¿ç±»
interface SelectableControl extends Control {
  select(): void;
}

// è¯¥æ¥å£ç±»å‹åªèƒ½è¢«è¿™ä¸ªç±»æˆ–è€…å­ç±»å®ç°
class Button extends Control implements SelectbleControl {
  select() { }
}

class TextBox extends Control {
  select() { }
}

// error! Imageç±»ä¸æ˜¯Controlç±»æˆ–å…¶å­ç±»ï¼Œç¼ºå°‘stateå±æ€§
class Image implements SelectableControl {
  select() { }
}

class Location {
  
}
```

## ğŸ‘€ å‡½æ•°

### å‡½æ•°ç±»å‹

> å‡½æ•°ç±»å‹åŒ…å«äº†å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹

```ts
let func(x: number, y: number) => number = function(x: number, y: number): number { return x + y; };
function func(x: number, y: number): number {
  return x + y;
}
```

### å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°

* å¯é€‰å‚æ•°åœ¨å‚æ•°åæ—ç”¨â€œï¼Ÿâ€è¡¨ç¤ºå¯é€‰
* å¯é€‰å‚æ•°å¿…é¡»è·Ÿåœ¨å¿…é¡»å‚æ•°åé¢
* é»˜è®¤å‚æ•°è¡¨ç¤ºä¼ å…¥å‚æ•°ä¸ºundefinedæ—¶ä½¿ç”¨é»˜è®¤å€¼
* ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦æ”¶é›†å‰©ä½™çš„å¤šä¸ªå‚æ•°

### é‡è½½

* å¦‚æœæƒ³å®šä¹‰çš„å‡½æ•°å‚æ•°å’Œè¿”å›å€¼å¯èƒ½å‡ºç°å¤šç§æƒ…å†µï¼Œä¸ºå‡½æ•°æä¾›å¤šä¸ªå‡½æ•°ç±»å‹å®šä¹‰æ¥è¿›è¡Œå‡½æ•°é‡è½½
* ç¼–è¯‘å™¨ä¼šä»å‡½æ•°å®šä¹‰åˆ—è¡¨ç¬¬ä¸€ä¸ªå¼€å§‹å°è¯•å®šä¹‰ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªä¸€å®šè¦æ˜¯æœ€ç²¾ç¡®çš„å®šä¹‰

```ts
let suits = ["hearts", "spades", "clubs", "diamonds"];
function pickCard(x: { suit: string; card: number; }[]):number;
function pickCard(x: number): { suit: string; card: number; };
function pickCard(x): any {
  if (typeof x === 'object') {
    let pickedCard = Math.floor(Math.random() * x.length);
    return pickedCard;
  }
  else if (typeof x === 'number') {
    let pickedSuit = Math.floor(x / 13);
    return { suit: suits[pickedSuit], card: x % 13 };
  }
}
```

## ğŸ‘€ å­—é¢é‡ç±»å‹

## è”åˆç±»å‹å’Œäº¤å‰ç±»å‹ï¼ˆUnions and Intersection Typesï¼‰

## ç±»

* åŸºäºç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹æ–¹å¼

```ts
class Greeter {
  // å±æ€§
  greeting: string;
  // æ„é€ å‡½æ•°
  constructor(message: string) {
    this.greeting = message;
  }
  // æ–¹æ³•
  greet() {
    // thisè¡¨ç¤ºè®¿é—®ç±»çš„æˆå‘˜
    return "Hello" + this.greeting;
  }
}

// æ„é€ å®ä¾‹
let greeter = new Greeter("world");
```

### ç»§æ‰¿

* ä½¿ç”¨ç»§æ‰¿æ‰©å±•ç°æœ‰çš„ç±»

> ä¾‹1:

```ts
// åŸºç±»ï¼ˆè¶…ç±»ï¼‰
class Animal {
  move(distanceInMeters: number = 0) {
    console.log("Animal moved ", distanceInMeters);
  }
}

// ç»§æ‰¿animalç±»  æ´¾ç”Ÿç±»ï¼ˆå­ç±»ï¼‰
class Dog extends Animal {
  bark() {
    console.log("woof!");
  }
}

const dog = new Dog();
dog.bark();
dog.move(10);
```

> ä¾‹2:

```ts
class Animal {
  name: string;
  constructor(theName: string) {
    this.name = theName;
  }
  move(distanceInMeters: number = 0) {
    console.log("move", distanceInMeters);
  }
}

class Snake extends Animal {
  constructor(name: string) {
    // ä»¥nameå…¥å‚ï¼Œæ‰§è¡ŒåŸºç±»çš„æ„é€ æ–¹æ³•(å¿…é¡»çš„)
    super(name);
  } 
  // é‡å†™åŸºç±»çš„moveæ–¹æ³•
  move(distanceInMeters: number = 0) {
    console.log("Slithering");
    // æ‰§è¡ŒåŸºç±»çš„moveæ–¹æ³•ï¼ˆåŸºç±»ï¼šå½“ä½œå‡½æ•°æ—¶ä¼šæ‰§è¡Œæ„é€ å‡½æ•°ï¼›å½“ä½œå¯¹è±¡æ—¶å¯è·å–å±æ€§å’Œæ–¹æ³•ï¼‰
    super.move(distanceInMeters);
  }
}

class Horse extends Animal {
  constructor(name: string) {
    super(name);
  }
  move(distanceInMeters = 45) {
    console.log("Galloping");
    super.move(distanceInMeters);
  }
}

```

### ç±»æˆå‘˜ä¿®é¥°ç¬¦

* è¿™äº›ä¿®é¥°ç¬¦ä¿®é¥°çš„æˆå‘˜éƒ½æ˜¯å½“ç±»è¢«å®ä¾‹åŒ–æ—¶æ‰ä¼šè¢«åˆå§‹åŒ–çš„å±æ€§ï¼Œåè¿‡æ¥è®²æ˜¯ä¾é™„äºå®ä¾‹å­˜åœ¨çš„å±æ€§ï¼ˆåŒºåˆ«äºé™æ€å±æ€§ï¼‰

ä¿®é¥°ç¬¦ | å«ä¹‰ | å…¼å®¹æ¯”è¾ƒ
------|-------|-----
publicï¼ˆé»˜è®¤ï¼‰ | å¯è¢«è‡ªç”±è®¿é—® | ä¸åŒå£°æ˜å¤„ï¼Œä½†ç±»å‹ç›¸åŒåˆ™å…¼å®¹
private | å¯ä»¥åœ¨å£°æ˜å®ƒçš„ç±»å¤–éƒ¨è®¿é—® | ç›¸åŒå£°æ˜å¤„ï¼Œä¸”ç±»å‹ç›¸åŒåˆ™å…¼å®¹
protected | å¯ä»¥åœ¨å£°æ˜å®ƒçš„ç±»å’Œæ´¾ç”Ÿç±»ä¸­è®¿é—® | ç›¸åŒå£°æ˜å¤„ï¼Œä¸”ç±»å‹ç›¸åŒåˆ™å…¼å®¹
readonly | åªè¯»å±æ€§ï¼Œè¡¨ç¤ºå¿…é¡»åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ– | -

> ä¾‹1: é»˜è®¤ä¿®é¥°ç¬¦public

```ts
class Animal {
  public name: string;
  public constructor(theName: string) {
    this.name = theName;
  }
  public move(distanceInMeters: number) {
    console.log("move", distanceInMeters);
  }
}
```

> ä¾‹2: privateä¿®é¥°çš„å±æ€§ä¸å¯åœ¨å…¶ç±»å¤–è®¿é—®

```ts
class Animal {
  // ç±»çš„ç§æœ‰å±æ€§ç›¸å½“äºåªå±€é™äºè¯¥ç±»å†…éƒ¨è‡ªå·±ä½¿ç”¨çš„å±æ€§
  private name: string;
  constructor(theName: string) {
    this.name = theName;
  }
}

// err!ç§æœ‰å±æ€§ä¸å¯åœ¨å£°æ˜å®ƒçš„ç±»å¤–ä½¿ç”¨
new Animal("cat").name;
```

> ä¾‹3: ä¸åŒå£°æ˜ï¼Œç›¸åŒç±»å‹çš„privateä¿®é¥°ç±»å‹ä¸å…¼å®¹

```ts
class Animal {
  private name: string;
  constructor(theName: string) {
    this.name = theName;
  }
}

class Rhino extends Animal {
  constructor() {
    super("Rhino");
  }
}

class Employee {
  private name: string;
  constructor(theName: string) {
    this.name = theName;
  }
}

let animal = new Animal("Goat");
let rhino = new Rhino();
let employee = new Employee("Bob");

// ç»§æ‰¿äº†åŸºç±»çš„å­ç±»å’ŒåŸºç±»å…¼å®¹
animal = rhino;
// ç»“æ„ç›¸åŒä½†å±æ€§ä¸æ˜¯åŒä¸€å¤„å£°æ˜çš„ä¸å…¼å®¹
animal = employee; // err! Animal ä¸Employeeä¸å…¼å®¹
```

> ä¾‹4: protectedæˆå‘˜ä¸privateç±»ä¼¼ï¼Œä½†æ˜¯å¤šäº†ä»å¯ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­è®¿é—®åˆ°çš„æ€§è´¨

```ts
class Person {
  // åŸºç±»ä¸­å£°æ˜çš„ä¿æŠ¤ç±»å‹
  protected name: string;
  constructor(name: string) {
    this.name = name;
  }
}

class Employee extends Person {
  private department: string;
  constructor(name: string, department: string) {
    super(name);
    this.department = department;
  }
  public getElevatorPitch() {
    // æ´¾ç”Ÿç±»ä¸­ä»å¯ä»¥è®¿é—®åˆ°åŸºç±»ä¸­çš„ä¿æŠ¤ç±»å‹æˆå‘˜
    return `Hello, my name is ${this.name}. I work in ${this.department}.`;
  }
}

let howard = new Employee("Howard", "Sales");
console.log(howard.getElevatorPitch());
// err! ä¸å¯åœ¨åŸºç±»å’Œæ´¾ç”Ÿç±»å¤–è®¿é—®åˆ°ä¿æŠ¤æˆå‘˜
console.log(howard.name);
```

> ä¾‹5: æ„é€ å‡½æ•°è¢«æ ‡è®°ä¸ºprotectedï¼Œæ„å‘³ç€è¯¥ç±»ä¸å¯è¢«å®ä¾‹åŒ–ï¼Œä½†å¯è¢«ç»§æ‰¿ï¼ˆä¸å¯åœ¨ç±»å¤–è®¿é—®æ‰§è¡Œï¼Œä½†å¯åœ¨æ´¾ç”Ÿç±»ä¸­è®¿é—®æ‰§è¡Œï¼‰

```ts
class Person {
  protected name: string;
  protected constructor(theName: string) {
    this.name = theName;
  }
}

class Employee extends Person {
  private department: string;

  constructor(name: string, department: string) {
    // å¯åœ¨æ´¾ç”Ÿç±»ä¸­è°ƒç”¨åŸºç±»ä¸­ä¿æŠ¤ç±»å‹çš„æ„é€ å‡½æ•°
    super(name);
    this.department = department;
  }

  public getElevatorPitch() {
    return this.name + this.department;
  }
}

let howard = new Employee("Howard", "Sales");
// err!ä¸å¯åœ¨ç±»å¤–æ‰§è¡Œä¿æŠ¤ç±»å‹çš„æ„é€ å‡½æ•°
let john = new Person("John");
```

> ä¾‹6: åªè¯»å±æ€§åªèƒ½åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ–

```ts
class Octopus {
  readonly name: string;
  // å£°æ˜æ—¶åˆå§‹åŒ–
  readonly numberOfLegs: number = 8;
  constructor (theName: string) {
    // æ„é€ å‡½æ•°é‡Œåˆå§‹åŒ–
    this.name = theName;
  }
}

let tom = nem Octopus('Tom');
// err! åªè¯»å±æ€§
tom.name = "Tim";
```

### å‚æ•°å±æ€§

> ç»™æ„é€ å‡½æ•°çš„å‚æ•°å¢åŠ æˆå‘˜ä¿®é¥°ç¬¦å®ç°ç›´æ¥å¯¹æˆå‘˜çš„å£°æ˜&åˆå§‹åŒ–

```ts
class Octopus {
  readonly numberOfLegs: number = 8;
  constructor(readonly name: string) {

  }
}
```

### å­˜å–å™¨

* getters/settersï¼šæˆªå–å¯¹å¯¹è±¡æˆå‘˜çš„è®¿é—®å’Œèµ‹å€¼
* åªæœ‰getæ— setçš„å­˜å–å™¨è¢«è‡ªåŠ¨æ¨æ–­ä¸ºreadonly

> ç»™æ™®é€šç±»åŠ ä¸Šå­˜å–å™¨çš„ä½¿ç”¨ï¼Œä½¿å¾—è·å–å’Œèµ‹å€¼æ“ä½œå¿…é¡»ç»è¿‡ä¸­é—´åŠ¨ä½œ

```ts
// ---æ™®é€šç±»
class Employee {
  salary: number;
}

let tom = new Employee();
// æ™®é€šç±»æˆå‘˜å¯ä»¥è¢«éšæ„è®¿é—®ä¿®æ”¹
tom.salary = 2500;
console.log(tom.salary);

// ---åŠ å…¥å­˜å–å™¨
let password = '123';
class Employee {
  private _salary: number;

  get salary(): string {
    return this._salary + 'å…ƒ';
  }

  set salary(newSalary: number) {
    if (password && password === '123') {
      this._salary = newSalary;
    } else {
      console.log("err");
    }
  }
}
let employee = new Employee();
employee.salary = 2500;
alert(employee.salary);
```

### é™æ€å±æ€§

> é™æ€å±æ€§åªå­˜åœ¨äºç±»æœ¬èº«èº«ä¸Šï¼Œè€Œä¸æ˜¯ç±»çš„å®ä¾‹ä¸Šï¼Œè®¿é—®æ—¶ç›´æ¥ä»¥è®¿é—®ç±»å¯¹è±¡çš„å±æ€§çš„å½¢å¼è®¿é—®

```ts
class Person {
  static eyes = 2;
  static legs = 2;
  getPersonFeature() {
    return Person.eyes + Person.legs;
  }
  constructor(public name: string) { }
}

let tom = new Person('Tom');
console.log(tom.getPersonFeature());
```

### æŠ½è±¡ç±»

* æŠ½è±¡ç±»ä½œä¸ºå…¶ä»–æ´¾ç”Ÿç±»çš„åŸºç±»ä½¿ç”¨ï¼Œä¸€èˆ¬ä¸ä¼šè¢«ç›´æ¥å®ä¾‹åŒ–ï¼ˆç±»çš„åŸºç¡€æ¨¡æ¿ç±»ï¼‰
* ä¸åŒäºæ¥å£ï¼ŒæŠ½è±¡ç±»å†…éƒ¨å¯ä»¥åŒ…å«éæŠ½è±¡æˆå‘˜çš„å®ç°ç»†èŠ‚
* é€šè¿‡abstractå®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•
* æŠ½è±¡æ–¹æ³•ä¸åŒ…å«å…·ä½“å®ç°ï¼Œå¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­å®ç°

> æŠ½è±¡ç±»ä¸¾ä¾‹

```ts
abstract class Animal {
  abstract makeSound(): void;
  move(): void {
    console.log('move');
  }
}
```

## æ³›å‹ï¼ˆGenericsï¼‰

* ä¸ºäº†æ”¯æŒç»„ä»¶é‡ç”¨ï¼šä¸€ä¸ªç»„ä»¶æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®

### æ³›å‹å˜é‡

* æ³›å‹å˜é‡ç”¨æ¥æŒ‡ä»£æ•°æ®çš„ç±»å‹ã€‚å®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼ŒæŒ‡ç±»å‹è€Œä¸æ˜¯æŒ‡å€¼;ç”¨ <> è¡¨ç¤ºï¼Œåœ¨åšå®šä¹‰æ—¶å€™ä½¿ç”¨

> å®šä¹‰ä¸€ä¸ªæ³›å‹å‡½æ•°

```ts
// <T> å£°æ˜äº†ä¸€ä¸ªæ³›å‹å˜é‡Tï¼Œç„¶ååœ¨åé¢çš„ç±»å‹è¡¨ç¤ºä¸­å°±å¯ä»¥ä½¿ç”¨å®ƒäº†
function identity<T>(arg: T): T {
  return arg;
}

// å¯å½“ä½œç±»å‹æè¿°ä¸­çš„ä¸€éƒ¨åˆ†ä½¿ç”¨
function identity<T>(arg: T[]): T[] {
  console.log(arg.length);
  return arg;
}
```

> å®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£

```ts
interface GenericIdentityFn {
  <T>(arg: T): T;
}

// æ¥å£å†…å…±äº«åŒä¸€ä¸ªæ³›å‹å˜é‡
interface GenericIdentityFn<T> {
  (arg: T): T;
  myArr: T[];
}
```

> å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»

* æ³›å‹ç±»æŒ‡çš„æ˜¯å®ä¾‹éƒ¨åˆ†çš„ç±»å‹ï¼Œæ‰€ä»¥é™æ€å±æ€§ä¸èƒ½ç”¨æ³›å‹ã€‚

```ts
class GenericNumber<T> {
  zeroValue: T;
  add: (x: T, y: T) => T;
}

let emtity = new GenericNumber<number>();
```

### æ³›å‹çº¦æŸ

* æ³›å‹ä½œä¸ºç±»å‹çš„æŒ‡ä»£ï¼Œæ•…ä¹Ÿå¯ä»¥ç†è§£æ³›å‹å’Œæ¥å£å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œç”¨æ¥è¡¨ç¤ºå…·æœ‰æŸäº›ç‰¹å®šå±æ€§çš„æ³›å‹ï¼ˆæ³›å‹çº¦æŸï¼‰

> ä¸‹ä¾‹å±•ç¤ºäº†é™åˆ¶åªå¯æ¥å—å¸¦æœ‰lengthå±æ€§çš„æ•°æ®ï¼ˆå…è®¸å¸¦æœ‰lengthå±æ€§çš„æ•°æ®ç±»å‹ï¼‰

```ts
interface Lengthwise {
  length: number;
}

function loggingIdentity<T extends Lengthwise>(arg: T): T {
  console.log(arg.length);
  return arg;
}
```

## æšä¸¾

## å˜é‡å£°æ˜

* letå’Œconstæ˜¯es6è§„èŒƒä¸­æ–°å¢çš„å˜é‡å£°æ˜è¯­æ³•ï¼Œå› ä¸ºtsæ˜¯jsçš„è¶…é›†ï¼Œæ‰€ä»¥å…¶æœ¬èº«å°±æ”¯æŒäºŒè€…ï¼Œå¹¶ä¸”æ¨èåœ¨tsä¸­ä½¿ç”¨ã€‚

### var,let,const

* ä¸‹é¢ç®€è¦ä»‹ç»ä¸€ä¸‹ä¸‰ç§å˜é‡å£°æ˜çš„ç‰¹ç‚¹ã€‚

å…³é”®å­— | ä½œç”¨åŸŸ | è¯´æ˜ | å£°æ˜
------|-------|-----|-----
var | varä½œç”¨åŸŸ/å‡½æ•°ä½œç”¨åŸŸ | åœ¨åŒ…å«å®ƒçš„å‡½æ•°ï¼Œæ¨¡å—ï¼Œå‘½åç©ºé—´æˆ–å…¨å±€ä½œç”¨åŸŸå†…ä»»ä½•æ–‡èŒè¢«è®¿é—®åˆ° | å¯é‡å¤å£°æ˜è¦†ç›–
let | è¯æ³•ä½œç”¨åŸŸ/å—ä½œç”¨åŸŸ | å˜é‡åœ¨åŒ…å«å®ƒä»¬çš„å—æˆ–forå¾ªç¯ä¹‹å¤–ä¸èƒ½è®¿é—® | ä¸èƒ½åœ¨å£°æ˜ä¹‹å‰è¯»å†™ï¼Œä¸å¯å¤šæ¬¡å£°æ˜
const | è¯æ³•ä½œç”¨åŸŸ/å—ä½œç”¨åŸŸ | å˜é‡åœ¨åŒ…å«å®ƒä»¬çš„å—æˆ–forå¾ªç¯ä¹‹å¤–ä¸èƒ½è®¿é—® | ä¸èƒ½åœ¨å£°æ˜ä¹‹å‰è¯»å†™ï¼Œä¸å¯å¤šæ¬¡å£°æ˜ï¼Œä¸å¯é‡å¤èµ‹å€¼

### è§£æ„

* è§£æ„æ•°ç»„

  ```ts
  let arr = [1, 3];
  let [first, second] = arr;
  let [first, second] = [second, first];
  function fun([first, second]: [number, number]) {
    console.log(first, second);
  }
  fun(arr);
  let arr2 = [1, 2, 3, 4];
  let [a, ...rest] = arr2;
  let [, b, , d] = arr2;
  ```

* è§£æ„å¯¹è±¡

  ```ts
  let obj = {
    a: 1,
    b: 2,
    c: 3,
  };
  let { a, b } = obj;
  let { first, ...rest } = obj;
  let { a: aaa, b: bbb } = obj;
  let { a: val1, b: val2 }: { a: number, b: number } = obj;
  function fun(obj: {a: number, b?: number}) {
    let { a, b = 2 } = obj;
    return a + b;
  }
  ```

* å‡½æ•°å£°æ˜

  ```ts
  type C = { a: string, b?: number };
  function fun({ a, b }: C): void {
    console.log(a, b);
  };
  // ä¸ºå‚æ•°å¯¹è±¡å±æ€§è®¾ç½®é»˜è®¤å€¼ï¼ˆæ— è¯¥å±æ€§æ—¶ç”Ÿæ•ˆï¼‰
  function fun2({ a = "", b = 0 }: C): void {
    console.log(a, b);
  };
  // ä¸ºå‚æ•°å¯¹è±¡è®¾ç½®é»˜è®¤å¯¹è±¡ï¼ˆæ— è¯¥å¯¹è±¡æ—¶ç”Ÿæ•ˆï¼‰
  function fun3({ a, b = 0 } = { a: "" }: C): void {
    console.log(a, b);
  };
  ```

* å±•å¼€
  1. å¯¹è±¡ï¼Œæ•°ç»„ç­‰ï¼ˆå¯è¿­ä»£å¯¹è±¡ï¼‰å¯å±•å¼€
  2. å±•å¼€ä¼šè¦†ç›–å‰é¢çš„åŒåå±æ€§
  3. ä»…åŒ…å«å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§ï¼ˆä¼šä¸¢å¤±æ–¹æ³•ï¼‰
  4. tsä¸­ä¸å…è®¸å±•å¼€æ³›å‹å‡½æ•°ä¸Šçš„ç±»å‹å‚æ•°

## ç±»å‹æ¨è®º

## ç±»å‹å…¼å®¹æ€§

## é«˜çº§ç±»å‹

## Symbols

## è¿­ä»£å™¨å’Œç”Ÿæˆå™¨

## æ¨¡å—

## å‘½åç©ºé—´
