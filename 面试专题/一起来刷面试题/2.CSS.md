# CSS

## 1. 说一下盒模型

简介：就是用来装页面上的元素的矩形区域，css盒模型包括IE盒模型和标准盒模型

相关样式：
box-sizing: border-box,content-box,padding-box

标准盒模型(content-box)：width = content

IE盒模型(border-box)：width = content+padding+border

padding-box: width = content+padding

## 2. 画一条0.5px的线

### 采用视口控制

```html
<meta name="viewport" content="width=device-width;initial-scale=0.5;user-scalable=no;" />
```

### 采用border-image的方式

首先需要自己制作一个0.5px的线条图片

```css
p {
    border-width: 0 0 1px 0;
    border-image: url(xxx.png) 2 0 round;
}
```

### 采用transform的方式

```css
p {
    transform: scaleY(0.5);
    transform-origin: 50% 100%;
}
```

## 3. link和import标签的区别

link 属于html标签，import是css提供的

页面被加载时link会被同时加载，而@import引用的css会等到页面加载结束后加载。

link是html标签，因此没有兼容性问题，而@import只有ie5以上才能识别

link方式样式的权重高于@import的

## 4. transition和animation的区别

[]
animation：动画，不需要触发任何事件就可以改变属性值
transition：过渡，需要触发某事件才能改变属性

## Flex布局

[]
Flex（弹性布局），用来为盒模型提供最大的灵活性。
传统的布局解决方案，基于盒模型，依赖display+position+float。它对于那些特殊的布局非常不方便，比如垂直居中就不容易实现。

### 容器属性

flex-direction：决定主轴的方向
flex-wrap：决定换行规则
flex-flow：<flex-direction> || <flex-wrap>
justify-content：对齐方式，水平主轴对齐方式
align-items：对齐方式，竖直轴线对齐方式

### 元素属性

order：定义元素的排列顺序，顺序越小越靠前，默认为0
flex-grow：定义项目的放大比例，即使存在空间，也不会放大
flex-shrink：定义了项目的缩小比例，当空间不足的情况下会等比例缩小，定义个item的flow-shrink为0，则为不缩小
flex-basis：定义了在分配多余的空间，项目占据的空间。
flex：<flex-grow> <flex-shrink> <flex-basis>
align-self：允许单个项目与其他项目不一样的对齐方式，可以覆盖align-items，默认属性为auto，表示继承父元素的align-items

## 5. BFC

块级格式化上下文。是一个独立的渲染区域，具有自己的布局规则。
BFC不会与float box重叠
BFC是页面上的一个独立容器，子元素不会影响到外面
计算BFC的高度时浮动元素也会参与计算

### 生成BFC的元素

根元素
position为fixed和absolute
display为inline-block，table-cell，table-caption，flex，inline-flex的元素
overflow不为visible

## 6. 垂直居中的方法

### 1. margin：auto法

```css
parent {
    width: 400px;
    height: 400px;
    position: relative;
}

child {
    position: absolute;
    margin: auto;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}
```

### 2. margin负值法

```css
parent {
    width: 500px;
    height: 500px;
    posotion: relative;
}

child {
    width:200px;
    height: 200px;
    position: absolute;
    top: 50%;
    margin-top: -100px;
    /* transform: translateY: -50%; */
}
```

### 3. table-cell法

```css
parent {
    width: 500px;
    height: 500px;
    display: table-cell;
    vertical-align: middle;
    text-align: center;
}
```

### 4. 利用flex

```css
parent {
    width: 300px;
    height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
}
```

## 7. 关于js动画和css3动画的差异性

渲染线程分为main thread和compositor thread。如果css动画只改变transform和opacity，这时候整个css动画在compositor thread得以完成（而js动画会在main thread执行然后compositor thread进行下一步操作），特别注意的是如果改变transform和opacity是不会layout和paint的

区别：

功能覆盖面，js比css大
实现或者重构难度不一，css3比js简单，性能调优方向固定
对帧速表现不好的浏览器，css3可以做到自然降级
css动画有天然事件支持
css3有兼容性问题

## 8. 说一下块元素和行元素

- 块元素：独占一行，并且有自动填满父元素，可以设置margin和padding以及高度和宽度
- 行元素：不会独占一行，width和height会失效，padding左右可以撑起空间，margin左右会生效

## 9. 多行元素的文本省略号

```css
div {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    overflow: hidden;
}

```

## 10. visibility:hidden,opacity:0,display:none

opacity将该元素隐藏起来，但也不会改变页面布局，并且依旧能触发绑定的事件；
visibility将元素隐藏起来，不改变布局，不能触发事件
display将元素隐藏起来，改变页面布局，不能触发事件

## 11. 双边距重叠问题（外边距折叠）

现象：多个相邻（兄弟或者父子关系）普通流的块元素垂直方向margin会重叠

折叠结果为：

两个相邻的外边距都是正数时，折叠结果是较大者
两个相邻的外边距都是负数时，折叠结果是绝对值较大者
两个相邻的外边距一正一负时，折叠结果是两者的和

## 12. position属性

这是个关于元素定位的属性，值分别有：

fixed：固定定位。元素的位置相对于浏览器窗口定位，即是窗口是滚动的他也不会移动。fixed定位使元素的位置与文档流无关，因此不占据空间。fixed定位的元素和其它元素重叠

relative：如果对一个元素进行相对定位，他将出现在他所在的位置上，然后可以通过设置垂直或水平位置，让这个元素相对于他的起点移动，在使用相对定位时，无论是否进行移动，元素仍然占据原来的空间，因此，移动元素将导致它覆盖其他框。

absolute：绝对定位的元素的位置相对于最近的已定位的父元素，如果元素没有已定位的父元素，那么他的位置相对于html。absolute定位使元素的位置与文档流无关，因此不占据空间，absolute定位的元素和其它元素重叠

sticky：粘性定位。元素先按照普通文档流定位，然后相对于该元素在刘中的flow root（BFC）和containing block（最近的块级祖先元素）定位。而后，元素定位表现为在跨越特定阈值前为相对定位，之后为fixed定位

static：默认定位。也就是没有特殊定位，元素出现在正常的流中，忽略top，bottom，left或者z-index声明

inherit： 继承定位。规定应该从父元素继承position的值

## 13. 浮动清除

1. 使用带有clear属性的空元素

    在浮动元素后使用一个空元素如

    ```html
    <div class="blank"></div>
    ```

    ,并在css中赋予

    ```css
    .blank {
        clear:both;
    }
    ```

2. 使用css中的overflow属性

    给浮动元素的容器添加overflow：hidden；或overflow：auto。另外在IE6中还需要触发hasLayout。例如为父元素设置容器宽高或者设置zoom：1

3. 给浮动元素的容器也添加浮动

    给浮动元素的容器也添加浮动即可清除内部浮动，但是这样会使其整体浮动，影响布局，不推荐使用

4. 使用邻接元素处理

    什么都不做，给浮动元素后面的元素添加clear属性

5. 使用伪元素

    给浮动元素后面追加一个:after的伪元素然后清除浮动

## 14. css3新特性

边框：border-radius,box-shadow
背景：background-size,background-origin
过渡：transform
动画：animation
布局：flex
选择器：first-of-type，nth-child
颜色：透明，rgba
字体：允许嵌入字体，设置字体阴影
盒模型：box-sizing
媒体查询

## 15. css选择器有哪些，优先级呢

选择器：id选择器，class选择器，标签选择器，伪元素选择器，伪类选择器等等

同一元素引用多个样式时，排在后面的样式属性的优先级高

样式选择器的类型不同时。优先级顺序为：id>class>标签

标签之间存在层级包含关系时，后代元素会继承祖先元素的样式，如果后代元素定义了与祖先元素相同的样式，则祖先元素的相同的样式会被覆盖。继承的样式优先级较低，至少比标签选择器低。

带有！important标记的样式属性优先级最高

样式表来源不同时优先级顺序为：内联>内部>外部>浏览器用户自定义的样式>浏览器默认样式

## 16. css动画如何实现

创建动画序列，需要使用animation属性或者其子属性，该属性允许配置动画时间、时长以及其他动画细节，但该属性不能配置动画的实际表现。动画的实际表现是由@keyframes规则实现

transition也可以实现动画，transition强调过渡，是元素的一个或多个属性发生变化时产生的过渡效果，同一个元素通过两个不同途径获取样式，而第二个途径当某种改变发生时才能获取样式，这样就会产生过渡动画

## 17. 如何实现图片在某个容器中居中的

1. 父元素固定宽高，利用定位及设置子元素margin值为着负的自身的一半
2. 父元素固定宽高，子元素设置position：absolute；margin：auto平均分配margin
3. 父元素display：table。子元素设置为单元格：display：table-cell
4. 弹性布局display：flex。设置align-items：center；justify-content：center

## 18. css3中对溢出的处理

text-overflow属性：

clip：修建文本
ellipsis：省略号表示被修剪的文本
string：使用给定的字符串代表被修剪的文本

## 19. float的元素display是什么

浮动元素的display是block

## 20. 三栏布局的实现方式

三栏布局又分为两种：两列定宽一列自适应，以及两侧定宽中间自适应

### 两列定宽一列自适应

1. 使用float+margin

    给div设置float：left，left的div添加属性margin-right：left和center间隔的px；right的div添加属性margin-left：left和center的宽度之和加上间隔

2. 使用float+overflow

    给div设置float：left，再给right的div设置overflow：hidden。这样两个盒子浮动，另一个盒子触发BFC达到自适应

3. 使用position

    父级div设置position：relative，三个子级div设置position：absolute。这个要计算好盒子的宽度和间隔去设置位置，兼容性比较好

4. 使用table实现

    父级div设置display：table，设置border-spacing：10px；子级div设置display：table-cell，这种方法兼容性好，适用于高度宽度未知的情况，但是margin失效，设计间隔比较麻烦

5. flex实现

    parent的div设置display：flex；left和center的div设置margin-right；然后right的div设置flex：1；这样子right自适应，但是flex的兼容性不好

6. grid实现

    parent设置display：grid，设置grid-template-colums属性，固定第一列第二列宽度，第三列auto

### 两侧定宽中间自适应

1. 利用flex

    父元素display：flex，center设置flex：1

2. 利用浮动

    先设置容器的padding：0 200px 0 200px；给左右两列留出空间
    设置三列都为position：relative；float：left
    设置center的width：100%；
    然后设置left，margin-left：-100%，left：-200px；width：200px
    设置right，margin-left：-220px；right：-220px；width：220px；

## 21. calc属性

calc使用户可以动态计算长度值。任何长度值都可以使用calc（）函数来计算

## 22. display：table和本身table有什么区别

display：table和本身table是相对应的，区别在于display：table的声明能够让一个html元素和它的子节点像table元素一样，使用基于表格的css布局，使我们能够轻松定义一个单元格的边界，背景等样式，而不会产生因为使用了table那样的制表标签导致的语义化问题。

之所以现在逐渐淘汰了table系列表格元素，是因为使用div+css编写出来的文件比用table编写出来的小，而table必须在页面完全加载完成后才显示，div则是逐行显示，table的嵌套性太多，没有div简洁

## 23. z-index的定位方法

z-index属性设置元素的堆叠顺序，拥有更高堆叠顺序的元素会处于较低顺序元素之前。

z-index可以为负，且z-index只能在定位元素上奏效。

该属性设置一个定位元素沿z轴的位置，如果为正数，则离用户越近，反之离用户越远，它的属性值有auto，默认，堆叠顺序与父元素相等，number，inherit，继承

## 24. 更改一个DOM元素的字体颜色，不在它本身上操作

更改父元素的color

## 25. line-height和height的区别

line-height一般是指布局里面一段文字上下行之间的高度，是针对字体来设置的。height一般是指容器的整体高度

## 26. 设置一个元素的背景颜色，背景颜色会填充哪些区域

content，padding，border区域

## 27. 属性选择器和伪类选择器的优先级比较

相同

## 28. 重绘和重排

DOM的变化影响到运算内宿的几何属性比如宽高，浏览器重新计算元素的几何属性，其他元素的几何属性也会受到影响，浏览器需要重新构造渲染树，这个过程称为重排，浏览器将受到影响的部分重新绘制在屏幕上的过程称为重绘。引起重排重绘的原因有：

- 添加或者删除可见的DOM元素
- 元素尺寸位置的改变
- 浏览器页面的初始化
- 浏览器窗口大小发生改变

减少重绘重排的方法有：

- 不在布局信息改变时做DOM查询
- 使用csstext，className一次性改变属性
- 使用fragment
- 对于多次重排的元素，比如动画，使用绝对定位脱离文档流，使其不影响其他元素

## 29. 两个嵌套的div，position都是absolute，子div设置top属性，那么这个top是相对于父元素哪个位置定位的

margin的外边缘，并且是相对于父元素的实际位置定位的

## 30. css布局

[]

### 圣杯布局


### 双飞翼布局


### Flex布局


### 绝对定位布局


### 表格布局


### 网格布局